package cqf

import (
	"testing"
)

func TestShiftIntoB(t *testing.T) {
	if shiftIntoB(0, 4611686018427387904, 0, 64, 1) != uint64(9223372036854775808) {
		t.Errorf("error for 0, 4611686018427387904, 0, 64, 1   ")
	}
	if shiftIntoB(0, 0, 0, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 0, 64, 1   ")
	}
	if shiftIntoB(0, 0, 0, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 0, 64, 1   ")
	}
	if shiftIntoB(0, 0, 8, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 8, 64, 1   ")
	}
	if shiftIntoB(0, 0, 8, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 8, 64, 1   ")
	}
	if shiftIntoB(0, 0, 8, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 8, 64, 1   ")
	}
	if shiftIntoB(0, 0, 8, 64, 1) != uint64(0) {
		t.Errorf("error for 0, 0, 8, 64, 1   ")
	}
	if shiftIntoB(0, 1, 0, 2, 1) != uint64(2) {
		t.Errorf("error for 0, 1, 0, 2, 1   ")
	}
	if shiftIntoB(0, 2305843009213693952, 0, 63, 1) != uint64(4611686018427387904) {
		t.Errorf("error for 0, 2305843009213693952, 0, 63, 1   ")
	}
	if shiftIntoB(0, 8, 0, 5, 1) != uint64(16) {
		t.Errorf("error for 0, 8, 0, 5, 1   ")
	}
	if shiftIntoB(4611686018427387904, 0, 0, 0, 1) != uint64(0) {
		t.Errorf("error for 4611686018427387904, 0, 0, 0, 1   ")
	}
}

func TestBitselectManual(t *testing.T) {

	if b := bitselect(uint64(0x8000000000000011), 0); b != uint64(0) {
		t.Errorf("error for 0x1000000008, 0x00, 0x3000000001 - got 0x%x, wanted 0x24", b)
	}
}

func TestBitselectv(t *testing.T) {
	return
	if b := bitselectv(0x1000000008, 0x00, 0x01); b != uint64(0x24) {
		t.Errorf("error for 0x1000000008, 0x00, 0x3000000001 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselect(0x4000040000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x4000040000000, 0x1000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x4000040000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x4000040000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x200020000020000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x200020000020000, 0x4000000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x200020000020000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x200020000020000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x1200000000000800, 0x01); b != uint64(0x39) {
		t.Errorf("error for 0x1200000000000800, 0x200020000000001 - got 0x%x, wanted 0x39", b)
	}

	if b := bitselectv(0x1200000000000800, 0x00, 0x01); b != uint64(0x39) {
		t.Errorf("error for 0x1200000000000800, 0x00, 0x3000000001 - got 0x%x, wanted 0x39", b)
	}

	if b := bitselect(0x84000, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x84000, 0x1200000000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselectv(0x84000, 0x00, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x84000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselect(0x40000202000, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x40000202000, 0x00 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselectv(0x40000202000, 0x00, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x40000202000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselect(0x40000000000008, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x40000000000008, 0x40000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselectv(0x40000000000008, 0x00, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x40000000000008, 0x00, 0x3000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselect(0x1000100, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x1000100, 0x40000000000000 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselectv(0x1000100, 0x00, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x1000100, 0x00, 0x3000000000 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselect(0x100000000000000, 0x00); b != uint64(0x38) {
		t.Errorf("error for 0x100000000000000, 0x00 - got 0x%x, wanted 0x38", b)
	}

	if b := bitselectv(0x100000000000000, 0x00, 0x00); b != uint64(0x38) {
		t.Errorf("error for 0x100000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x38", b)
	}

	if b := bitselect(0x8100000000000, 0x00); b != uint64(0x2c) {
		t.Errorf("error for 0x8100000000000, 0x100000000000000 - got 0x%x, wanted 0x2c", b)
	}

	if b := bitselectv(0x8100000000000, 0x00, 0x00); b != uint64(0x2c) {
		t.Errorf("error for 0x8100000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2c", b)
	}

	if b := bitselect(0x100012000000, 0x01); b != uint64(0x1c) {
		t.Errorf("error for 0x100012000000, 0x8100000000001 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselectv(0x100012000000, 0x00, 0x01); b != uint64(0x1c) {
		t.Errorf("error for 0x100012000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselect(0x400000040000, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x400000040000, 0x100000000000 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselectv(0x400000040000, 0x00, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x400000040000, 0x00, 0x3000000000 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselect(0x2000000200000000, 0x00); b != uint64(0x21) {
		t.Errorf("error for 0x2000000200000000, 0x400000000000 - got 0x%x, wanted 0x21", b)
	}

	if b := bitselectv(0x2000000200000000, 0x00, 0x00); b != uint64(0x21) {
		t.Errorf("error for 0x2000000200000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x21", b)
	}

	if b := bitselect(0x2000000000200, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x2000000000200, 0x2000000200000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselectv(0x2000000000200, 0x00, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x2000000000200, 0x00, 0x3000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselect(0x1000050000000000, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x1000050000000000, 0x2000000000000 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselectv(0x1000050000000000, 0x00, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x1000050000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselect(0x801000004000100, 0x01); b != uint64(0x1a) {
		t.Errorf("error for 0x801000004000100, 0x1000050000000001 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselectv(0x801000004000100, 0x00, 0x01); b != uint64(0x1a) {
		t.Errorf("error for 0x801000004000100, 0x00, 0x3000000001 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselect(0x4000200000000, 0x00); b != uint64(0x21) {
		t.Errorf("error for 0x4000200000000, 0x801000000000000 - got 0x%x, wanted 0x21", b)
	}

	if b := bitselectv(0x4000200000000, 0x00, 0x00); b != uint64(0x21) {
		t.Errorf("error for 0x4000200000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x21", b)
	}

	if b := bitselect(0x5000000000, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x5000000000, 0x4000200000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselectv(0x5000000000, 0x00, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x5000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselect(0x08, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x08, 0x5000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselectv(0x08, 0x00, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x08, 0x00, 0x3000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselect(0x800000400000, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x800000400000, 0x00 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselectv(0x800000400000, 0x00, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x800000400000, 0x00, 0x3000000000 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselect(0x1008000000, 0x00); b != uint64(0x1b) {
		t.Errorf("error for 0x1008000000, 0x800000000000 - got 0x%x, wanted 0x1b", b)
	}

	if b := bitselectv(0x1008000000, 0x00, 0x00); b != uint64(0x1b) {
		t.Errorf("error for 0x1008000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1b", b)
	}

	if b := bitselect(0x2000000010000, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x2000000010000, 0x1000000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselectv(0x2000000010000, 0x00, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x2000000010000, 0x00, 0x3000000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselect(0x1008000000004, 0x01); b != uint64(0x27) {
		t.Errorf("error for 0x1008000000004, 0x2000000000001 - got 0x%x, wanted 0x27", b)
	}

	if b := bitselectv(0x1008000000004, 0x00, 0x01); b != uint64(0x27) {
		t.Errorf("error for 0x1008000000004, 0x00, 0x3000000001 - got 0x%x, wanted 0x27", b)
	}

	if b := bitselect(0x201000000, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x201000000, 0x1008000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselectv(0x201000000, 0x00, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x201000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselect(0x2000100000000, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2000100000000, 0x200000000 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselectv(0x2000100000000, 0x00, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2000100000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselect(0x84000000, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x84000000, 0x2000100000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselectv(0x84000000, 0x00, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x84000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselect(0x8000000000000, 0x00); b != uint64(0x33) {
		t.Errorf("error for 0x8000000000000, 0x00 - got 0x%x, wanted 0x33", b)
	}

	if b := bitselectv(0x8000000000000, 0x00, 0x00); b != uint64(0x33) {
		t.Errorf("error for 0x8000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x33", b)
	}

	if b := bitselect(0x80080000400080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x80080000400080, 0x8000000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x80080000400080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x80080000400080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x10000001000200, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x10000001000200, 0x80080000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselectv(0x10000001000200, 0x00, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x10000001000200, 0x00, 0x3000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselect(0x804000, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x804000, 0x10000000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselectv(0x804000, 0x00, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x804000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselect(0x1000000000000800, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x1000000000000800, 0x00 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselectv(0x1000000000000800, 0x00, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x1000000000000800, 0x00, 0x3000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselect(0x200000020, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x200000020, 0x1000000000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselectv(0x200000020, 0x00, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x200000020, 0x00, 0x3000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselect(0xa0000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0xa0000, 0x200000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0xa0000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0xa0000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x202000000000, 0x00); b != uint64(0x25) {
		t.Errorf("error for 0x202000000000, 0x00 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselectv(0x202000000000, 0x00, 0x00); b != uint64(0x25) {
		t.Errorf("error for 0x202000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselect(0x100020000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x100020000, 0x202000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x100020000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x100020000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x400000800, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x400000800, 0x100000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselectv(0x400000800, 0x00, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x400000800, 0x00, 0x3000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselect(0x81000010, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x81000010, 0x400000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselectv(0x81000010, 0x00, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x81000010, 0x00, 0x3000000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselect(0x40800000, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x40800000, 0x00 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselectv(0x40800000, 0x00, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x40800000, 0x00, 0x3000000000 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselect(0x2100000000, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2100000000, 0x00 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselectv(0x2100000000, 0x00, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2100000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselect(0x4000000000010000, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x4000000000010000, 0x2100000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselectv(0x4000000000010000, 0x00, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x4000000000010000, 0x00, 0x3000000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselect(0x00, 0x00); b != uint64(0x40) {
		t.Errorf("error for 0x00, 0x4000000000000000 - got 0x%x, wanted 0x40", b)
	}

	if b := bitselectv(0x00, 0x00, 0x00); b != uint64(0x40) {
		t.Errorf("error for 0x00, 0x00, 0x3000000000 - got 0x%x, wanted 0x40", b)
	}

	if b := bitselect(0x02, 0x00); b != uint64(0x01) {
		t.Errorf("error for 0x02, 0x00 - got 0x%x, wanted 0x01", b)
	}

	if b := bitselectv(0x02, 0x00, 0x00); b != uint64(0x01) {
		t.Errorf("error for 0x02, 0x00, 0x3000000000 - got 0x%x, wanted 0x01", b)
	}

	if b := bitselect(0x400040200, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x400040200, 0x00 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselectv(0x400040200, 0x00, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x400040200, 0x00, 0x3000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselect(0x48000, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x48000, 0x400000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselectv(0x48000, 0x00, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x48000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselect(0x4000001000000, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x4000001000000, 0x00 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselectv(0x4000001000000, 0x00, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x4000001000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselect(0x10000000001000, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x10000000001000, 0x4000000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselectv(0x10000000001000, 0x00, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x10000000001000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselect(0xa000, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0xa000, 0x10000000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselectv(0xa000, 0x00, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0xa000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselect(0x80008, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x80008, 0x00 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselectv(0x80008, 0x00, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x80008, 0x00, 0x3000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselect(0x8100, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x8100, 0x00 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselectv(0x8100, 0x00, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x8100, 0x00, 0x3000000000 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselect(0x10020, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x10020, 0x00 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselectv(0x10020, 0x00, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x10020, 0x00, 0x3000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselect(0x201000000, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x201000000, 0x00 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselectv(0x201000000, 0x00, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x201000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselect(0x4000000008000000, 0x00); b != uint64(0x1b) {
		t.Errorf("error for 0x4000000008000000, 0x200000000 - got 0x%x, wanted 0x1b", b)
	}

	if b := bitselectv(0x4000000008000000, 0x00, 0x00); b != uint64(0x1b) {
		t.Errorf("error for 0x4000000008000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1b", b)
	}

	if b := bitselect(0x4000040000000000, 0x00); b != uint64(0x2a) {
		t.Errorf("error for 0x4000040000000000, 0x4000000000000000 - got 0x%x, wanted 0x2a", b)
	}

	if b := bitselectv(0x4000040000000000, 0x00, 0x00); b != uint64(0x2a) {
		t.Errorf("error for 0x4000040000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2a", b)
	}

	if b := bitselect(0x4000000020000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x4000000020000, 0x4000040000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x4000000020000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x4000000020000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x240000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x240000000, 0x4000000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x240000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x240000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x4200000000000000, 0x00); b != uint64(0x39) {
		t.Errorf("error for 0x4200000000000000, 0x200000000 - got 0x%x, wanted 0x39", b)
	}

	if b := bitselectv(0x4200000000000000, 0x00, 0x00); b != uint64(0x39) {
		t.Errorf("error for 0x4200000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x39", b)
	}

	if b := bitselect(0x80000000200, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x80000000200, 0x4200000000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselectv(0x80000000200, 0x00, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x80000000200, 0x00, 0x3000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselect(0x20000000000, 0x00); b != uint64(0x29) {
		t.Errorf("error for 0x20000000000, 0x80000000000 - got 0x%x, wanted 0x29", b)
	}

	if b := bitselectv(0x20000000000, 0x00, 0x00); b != uint64(0x29) {
		t.Errorf("error for 0x20000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x29", b)
	}

	if b := bitselect(0x20000000000008, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x20000000000008, 0x20000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselectv(0x20000000000008, 0x00, 0x00); b != uint64(0x03) {
		t.Errorf("error for 0x20000000000008, 0x00, 0x3000000000 - got 0x%x, wanted 0x03", b)
	}

	if b := bitselect(0x80000000040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x80000000040, 0x20000000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x80000000040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x80000000040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x400400000000, 0x00); b != uint64(0x22) {
		t.Errorf("error for 0x400400000000, 0x80000000000 - got 0x%x, wanted 0x22", b)
	}

	if b := bitselectv(0x400400000000, 0x00, 0x00); b != uint64(0x22) {
		t.Errorf("error for 0x400400000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x22", b)
	}

	if b := bitselect(0x80000012000000, 0x01); b != uint64(0x1c) {
		t.Errorf("error for 0x80000012000000, 0x400400000001 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselectv(0x80000012000002, 0x02, 0x01); b != uint64(0x1c) {
		t.Errorf("error for 0x80000012000002, 0x02, 0x3000000001 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselect(0x8000000080000000, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x8000000080000000, 0x80000000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselectv(0x8002400000, 0x00, 0x01); b != uint64(0x19) {
		t.Errorf("error for 0x8002400000, 0x00, 0x3000000001 - got 0x%x, wanted 0x19", b)
	}

	if b := bitselect(0x2000000000400, 0x00); b != uint64(0x0a) {
		t.Errorf("error for 0x2000000000400, 0x8000000000 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselectv(0x2000000000400, 0x00, 0x00); b != uint64(0x0a) {
		t.Errorf("error for 0x2000000000400, 0x00, 0x3000000000 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselect(0x100080000000, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x100080000000, 0x2000000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselectv(0x100080000000, 0x00, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x100080000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselect(0x400000800, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x400000800, 0x100000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselectv(0x400000800, 0x00, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x400000800, 0x00, 0x3000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselect(0x2800010000000000, 0x01); b != uint64(0x3b) {
		t.Errorf("error for 0x2800010000000000, 0x400000001 - got 0x%x, wanted 0x3b", b)
	}

	if b := bitselectv(0x2800010000000000, 0x00, 0x01); b != uint64(0x3b) {
		t.Errorf("error for 0x2800010000000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x3b", b)
	}

	if b := bitselect(0x40800000000000, 0x00); b != uint64(0x2f) {
		t.Errorf("error for 0x40800000000000, 0x2800010000000000 - got 0x%x, wanted 0x2f", b)
	}

	if b := bitselectv(0x40800000000000, 0x00, 0x00); b != uint64(0x2f) {
		t.Errorf("error for 0x40800000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2f", b)
	}

	if b := bitselect(0x110000000000000, 0x00); b != uint64(0x34) {
		t.Errorf("error for 0x110000000000000, 0x40800000000000 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselectv(0x110000000000000, 0x00, 0x00); b != uint64(0x34) {
		t.Errorf("error for 0x110000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselect(0x8400000000000, 0x00); b != uint64(0x2e) {
		t.Errorf("error for 0x8400000000000, 0x110000000000000 - got 0x%x, wanted 0x2e", b)
	}

	if b := bitselectv(0x8400000000000, 0x00, 0x00); b != uint64(0x2e) {
		t.Errorf("error for 0x8400000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2e", b)
	}

	if b := bitselect(0x80000001000, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x80000001000, 0x8400000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselectv(0x80000001000, 0x00, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x80000001000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselect(0x200000000008000, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x200000000008000, 0x80000000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselectv(0x200000000008001, 0x01, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x200000000008001, 0x01, 0x3000000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselect(0x2000002000000100, 0x01); b != uint64(0x25) {
		t.Errorf("error for 0x2000002000000100, 0x200000000000001 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselectv(0x2000002000000100, 0x00, 0x01); b != uint64(0x25) {
		t.Errorf("error for 0x2000002000000100, 0x00, 0x3000000001 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselect(0x1000040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x1000040, 0x2000002000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x1000040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x1000040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x100000800000000, 0x00); b != uint64(0x23) {
		t.Errorf("error for 0x100000800000000, 0x00 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselectv(0x100000800000000, 0x00, 0x00); b != uint64(0x23) {
		t.Errorf("error for 0x100000800000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselect(0x1000002000000, 0x00); b != uint64(0x19) {
		t.Errorf("error for 0x1000002000000, 0x100000800000000 - got 0x%x, wanted 0x19", b)
	}

	if b := bitselectv(0x1000002000000, 0x00, 0x00); b != uint64(0x19) {
		t.Errorf("error for 0x1000002000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x19", b)
	}

	if b := bitselect(0x200000800000, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x200000800000, 0x1000000000000 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselectv(0x200000800000, 0x00, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x200000800000, 0x00, 0x3000000000 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselect(0x8000001000000000, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x8000001000000000, 0x200000000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselectv(0x8000001000000000, 0x00, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x8000001000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselect(0x2000100000000, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2000100000000, 0x8000001000000000 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselectv(0x2000100000000, 0x00, 0x00); b != uint64(0x20) {
		t.Errorf("error for 0x2000100000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x20", b)
	}

	if b := bitselect(0x1000040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x1000040, 0x2000100000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x1000040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x1000040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x100, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x100, 0x00 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselectv(0x100, 0x00, 0x00); b != uint64(0x08) {
		t.Errorf("error for 0x100, 0x00, 0x3000000000 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselect(0x2000010000000000, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x2000010000000000, 0x00 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselectv(0x2000010000000000, 0x00, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x2000010000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselect(0x20002000, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x20002000, 0x2000010000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselectv(0x20002000, 0x00, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x20002000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselect(0x10000000800000, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x10000000800000, 0x00 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselectv(0x10000000800000, 0x00, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x10000000800000, 0x00, 0x3000000000 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselect(0x400000000100000, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x400000000100000, 0x10000000000000 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselectv(0x400000000100000, 0x00, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x400000000100000, 0x00, 0x3000000000 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselect(0x20000000800, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x20000000800, 0x400000000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselectv(0x20000000800, 0x00, 0x00); b != uint64(0x0b) {
		t.Errorf("error for 0x20000000800, 0x00, 0x3000000000 - got 0x%x, wanted 0x0b", b)
	}

	if b := bitselect(0x200000040000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x200000040000000, 0x20000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x200000040000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x200000040000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x200000080000, 0x00); b != uint64(0x13) {
		t.Errorf("error for 0x200000080000, 0x200000000000000 - got 0x%x, wanted 0x13", b)
	}

	if b := bitselectv(0x200000080000, 0x00, 0x00); b != uint64(0x13) {
		t.Errorf("error for 0x200000080000, 0x00, 0x3000000000 - got 0x%x, wanted 0x13", b)
	}

	if b := bitselect(0x80000020000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x80000020000, 0x200000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x80000020000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x80000020000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x2420000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x2420000, 0x80000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x2420000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x2420000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselect(0x100000, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x100000, 0x00 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselectv(0x100000, 0x00, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x100000, 0x00, 0x3000000000 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselect(0x4000000020000000, 0x00); b != uint64(0x1d) {
		t.Errorf("error for 0x4000000020000000, 0x00 - got 0x%x, wanted 0x1d", b)
	}

	if b := bitselectv(0x4000000020000000, 0x00, 0x00); b != uint64(0x1d) {
		t.Errorf("error for 0x4000000020000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1d", b)
	}

	if b := bitselect(0x4400000, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x4400000, 0x4000000000000000 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselectv(0x4400000, 0x00, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x4400000, 0x00, 0x3000000000 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselect(0x2040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x2040, 0x00 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x2040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x2040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x300000000001000, 0x01); b != uint64(0x38) {
		t.Errorf("error for 0x300000000001000, 0x01 - got 0x%x, wanted 0x38", b)
	}

	if b := bitselectv(0x300000000001000, 0x00, 0x01); b != uint64(0x38) {
		t.Errorf("error for 0x300000000001000, 0x00, 0x3000000001 - got 0x%x, wanted 0x38", b)
	}

	if b := bitselect(0x4000440, 0x01); b != uint64(0x0a) {
		t.Errorf("error for 0x4000440, 0x300000000000001 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselectv(0x4000440, 0x00, 0x01); b != uint64(0x0a) {
		t.Errorf("error for 0x4000440, 0x00, 0x3000000001 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselect(0x4000004000000000, 0x00); b != uint64(0x26) {
		t.Errorf("error for 0x4000004000000000, 0x00 - got 0x%x, wanted 0x26", b)
	}

	if b := bitselectv(0x4000004000000000, 0x00, 0x00); b != uint64(0x26) {
		t.Errorf("error for 0x4000004000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x26", b)
	}

	if b := bitselect(0x400000040000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x400000040000000, 0x4000004000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x400000040000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x400000040000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x800000000100080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x800000000100080, 0x400000000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x800000000100080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x800000000100080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x1000000000040000, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x1000000000040000, 0x800000000000000 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselectv(0x1000000000040000, 0x00, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x1000000000040000, 0x00, 0x3000000000 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselect(0x400000000000004, 0x00); b != uint64(0x02) {
		t.Errorf("error for 0x400000000000004, 0x1000000000000000 - got 0x%x, wanted 0x02", b)
	}

	if b := bitselectv(0x400000000000004, 0x00, 0x00); b != uint64(0x02) {
		t.Errorf("error for 0x400000000000004, 0x00, 0x3000000000 - got 0x%x, wanted 0x02", b)
	}

	if b := bitselect(0x20000001000000, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x20000001000000, 0x400000000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselectv(0x20000001000000, 0x00, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x20000001000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselect(0x1000010, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x1000010, 0x20000000000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselectv(0x1000010, 0x00, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x1000010, 0x00, 0x3000000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselect(0x100040000, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x100040000, 0x00 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselectv(0x100040000, 0x00, 0x00); b != uint64(0x12) {
		t.Errorf("error for 0x100040000, 0x00, 0x3000000000 - got 0x%x, wanted 0x12", b)
	}

	if b := bitselect(0x8000000080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x8000000080, 0x100000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x8000000080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x8000000080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x800080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x800080, 0x8000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x800080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x800080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x2000000000001000, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x2000000000001000, 0x00 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselectv(0x2000000000001002, 0x02, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x2000000000001002, 0x02, 0x3000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselect(0x280400000000, 0x01); b != uint64(0x2b) {
		t.Errorf("error for 0x280400000000, 0x2000000000000001 - got 0x%x, wanted 0x2b", b)
	}

	if b := bitselectv(0x280400000000, 0x00, 0x01); b != uint64(0x2b) {
		t.Errorf("error for 0x280400000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x2b", b)
	}

	if b := bitselect(0x800000000120, 0x01); b != uint64(0x08) {
		t.Errorf("error for 0x800000000120, 0x280400000001 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselectv(0x800000000120, 0x00, 0x01); b != uint64(0x08) {
		t.Errorf("error for 0x800000000120, 0x00, 0x3000000001 - got 0x%x, wanted 0x08", b)
	}

	if b := bitselect(0x2000000000200000, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x2000000000200000, 0x800000000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselectv(0x2000000000200000, 0x00, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x2000000000200000, 0x00, 0x3000000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselect(0x40000808000, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x40000808000, 0x2000000000000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselectv(0x40000808000, 0x00, 0x00); b != uint64(0x0f) {
		t.Errorf("error for 0x40000808000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0f", b)
	}

	if b := bitselect(0x8000400, 0x00); b != uint64(0x0a) {
		t.Errorf("error for 0x8000400, 0x40000000000 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselectv(0x8000400, 0x00, 0x00); b != uint64(0x0a) {
		t.Errorf("error for 0x8000400, 0x00, 0x3000000000 - got 0x%x, wanted 0x0a", b)
	}

	if b := bitselect(0x40004800001000, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x40004800001000, 0x00 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselectv(0x40004800001001, 0x01, 0x00); b != uint64(0x0c) {
		t.Errorf("error for 0x40004800001001, 0x01, 0x3000000000 - got 0x%x, wanted 0x0c", b)
	}

	if b := bitselect(0x1020000000000000, 0x00); b != uint64(0x35) {
		t.Errorf("error for 0x1020000000000000, 0x40004800000000 - got 0x%x, wanted 0x35", b)
	}

	if b := bitselectv(0x1020000000000000, 0x00, 0x00); b != uint64(0x35) {
		t.Errorf("error for 0x1020000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x35", b)
	}

	if b := bitselect(0x40000800400000, 0x01); b != uint64(0x23) {
		t.Errorf("error for 0x40000800400000, 0x1020000000000001 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselectv(0x40000800400000, 0x00, 0x01); b != uint64(0x23) {
		t.Errorf("error for 0x40000800400000, 0x00, 0x3000000001 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselect(0x80004000000, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x80004000000, 0x40000800000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselectv(0x80004000000, 0x00, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x80004000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselect(0x480000000000, 0x00); b != uint64(0x2b) {
		t.Errorf("error for 0x480000000000, 0x80000000000 - got 0x%x, wanted 0x2b", b)
	}

	if b := bitselectv(0x480000000000, 0x00, 0x00); b != uint64(0x2b) {
		t.Errorf("error for 0x480000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2b", b)
	}

	if b := bitselect(0x10000, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x10000, 0x480000000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselectv(0x10000, 0x00, 0x00); b != uint64(0x10) {
		t.Errorf("error for 0x10000, 0x00, 0x3000000000 - got 0x%x, wanted 0x10", b)
	}

	if b := bitselect(0x1000000000080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x1000000000080, 0x00 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x1000000000080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x1000000000080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x200100000, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x200100000, 0x1000000000000 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselectv(0x200100000, 0x00, 0x00); b != uint64(0x14) {
		t.Errorf("error for 0x200100000, 0x00, 0x3000000000 - got 0x%x, wanted 0x14", b)
	}

	if b := bitselect(0x2200000, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x2200000, 0x200000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselectv(0x2200000, 0x00, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x2200000, 0x00, 0x3000000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselect(0x400000002000, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x400000002000, 0x00 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselectv(0x400000002000, 0x00, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x400000002000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselect(0x202080000, 0x01); b != uint64(0x19) {
		t.Errorf("error for 0x202080000, 0x400000000001 - got 0x%x, wanted 0x19", b)
	}

	if b := bitselectv(0x202080000, 0x00, 0x01); b != uint64(0x19) {
		t.Errorf("error for 0x202080000, 0x00, 0x3000000001 - got 0x%x, wanted 0x19", b)
	}

	if b := bitselect(0x80100000, 0x01); b != uint64(0x1f) {
		t.Errorf("error for 0x80100000, 0x200000001 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselectv(0x80100000, 0x00, 0x01); b != uint64(0x1f) {
		t.Errorf("error for 0x80100000, 0x00, 0x3000000001 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselect(0x4000400000020, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x4000400000020, 0x00 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselectv(0x4000400000020, 0x00, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x4000400000020, 0x00, 0x3000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselect(0x2000001000000000, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x2000001000000000, 0x4000400000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselectv(0x2000001000000000, 0x00, 0x00); b != uint64(0x24) {
		t.Errorf("error for 0x2000001000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselect(0x100000020, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x100000020, 0x2000001000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselectv(0x100000020, 0x00, 0x00); b != uint64(0x05) {
		t.Errorf("error for 0x100000020, 0x00, 0x3000000000 - got 0x%x, wanted 0x05", b)
	}

	if b := bitselect(0x800080000000, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x800080000000, 0x100000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselectv(0x800080000000, 0x00, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x800080000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselect(0x40400000000000, 0x00); b != uint64(0x2e) {
		t.Errorf("error for 0x40400000000000, 0x800000000000 - got 0x%x, wanted 0x2e", b)
	}

	if b := bitselectv(0x40400000000000, 0x00, 0x00); b != uint64(0x2e) {
		t.Errorf("error for 0x40400000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2e", b)
	}

	if b := bitselect(0x100000004001000, 0x01); b != uint64(0x1a) {
		t.Errorf("error for 0x100000004001000, 0x40400000000001 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselectv(0x100000004001000, 0x00, 0x01); b != uint64(0x1a) {
		t.Errorf("error for 0x100000004001000, 0x00, 0x3000000001 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselect(0x800000000, 0x00); b != uint64(0x23) {
		t.Errorf("error for 0x800000000, 0x100000000000000 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselectv(0x800000000, 0x00, 0x00); b != uint64(0x23) {
		t.Errorf("error for 0x800000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x23", b)
	}

	if b := bitselect(0x404000, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x404000, 0x800000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselectv(0x404000, 0x00, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x404000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselect(0x100004000004040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x100004000004040, 0x00 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x100004000004040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x100004000004040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x30000000000000, 0x00); b != uint64(0x34) {
		t.Errorf("error for 0x30000000000000, 0x100004000000000 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselectv(0x30000000000000, 0x00, 0x00); b != uint64(0x34) {
		t.Errorf("error for 0x30000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselect(0x8004, 0x00); b != uint64(0x02) {
		t.Errorf("error for 0x8004, 0x30000000000000 - got 0x%x, wanted 0x02", b)
	}

	if b := bitselectv(0x8004, 0x00, 0x00); b != uint64(0x02) {
		t.Errorf("error for 0x8004, 0x00, 0x3000000000 - got 0x%x, wanted 0x02", b)
	}

	if b := bitselect(0x10000000000, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x10000000000, 0x00 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselectv(0x10000000000, 0x00, 0x00); b != uint64(0x28) {
		t.Errorf("error for 0x10000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x28", b)
	}

	if b := bitselect(0x40000000400000, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x40000000400000, 0x10000000000 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselectv(0x40000000400000, 0x00, 0x00); b != uint64(0x16) {
		t.Errorf("error for 0x40000000400000, 0x00, 0x3000000000 - got 0x%x, wanted 0x16", b)
	}

	if b := bitselect(0x8080200, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x8080200, 0x40000000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselectv(0x8080200, 0x00, 0x00); b != uint64(0x09) {
		t.Errorf("error for 0x8080200, 0x00, 0x3000000000 - got 0x%x, wanted 0x09", b)
	}

	if b := bitselect(0x2020000000, 0x00); b != uint64(0x1d) {
		t.Errorf("error for 0x2020000000, 0x00 - got 0x%x, wanted 0x1d", b)
	}

	if b := bitselectv(0x2020000000, 0x00, 0x00); b != uint64(0x1d) {
		t.Errorf("error for 0x2020000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1d", b)
	}

	if b := bitselect(0x20400000000, 0x00); b != uint64(0x22) {
		t.Errorf("error for 0x20400000000, 0x2000000000 - got 0x%x, wanted 0x22", b)
	}

	if b := bitselectv(0x20400000000, 0x00, 0x00); b != uint64(0x22) {
		t.Errorf("error for 0x20400000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x22", b)
	}

	if b := bitselect(0x9200000000000000, 0x01); b != uint64(0x3c) {
		t.Errorf("error for 0x9200000000000000, 0x20400000001 - got 0x%x, wanted 0x3c", b)
	}

	if b := bitselectv(0x9200000000000000, 0x00, 0x01); b != uint64(0x3c) {
		t.Errorf("error for 0x9200000000000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x3c", b)
	}

	if b := bitselect(0x2000200000000000, 0x00); b != uint64(0x2d) {
		t.Errorf("error for 0x2000200000000000, 0x9200000000000000 - got 0x%x, wanted 0x2d", b)
	}

	if b := bitselectv(0x2000200000000000, 0x00, 0x00); b != uint64(0x2d) {
		t.Errorf("error for 0x2000200000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x2d", b)
	}

	if b := bitselect(0x1200000, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x1200000, 0x2000200000000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselectv(0x1200000, 0x00, 0x00); b != uint64(0x15) {
		t.Errorf("error for 0x1200000, 0x00, 0x3000000000 - got 0x%x, wanted 0x15", b)
	}

	if b := bitselect(0x100000800000, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x100000800000, 0x00 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselectv(0x100000800000, 0x00, 0x00); b != uint64(0x17) {
		t.Errorf("error for 0x100000800000, 0x00, 0x3000000000 - got 0x%x, wanted 0x17", b)
	}

	if b := bitselect(0x400000002000, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x400000002000, 0x100000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselectv(0x400000002000, 0x00, 0x00); b != uint64(0x0d) {
		t.Errorf("error for 0x400000002000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0d", b)
	}

	if b := bitselect(0x50000100000000, 0x01); b != uint64(0x34) {
		t.Errorf("error for 0x50000100000000, 0x400000000001 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselectv(0x50000100000000, 0x00, 0x01); b != uint64(0x34) {
		t.Errorf("error for 0x50000100000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x34", b)
	}

	if b := bitselect(0x200000000080, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x200000000080, 0x50000100000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselectv(0x200000000080, 0x00, 0x00); b != uint64(0x07) {
		t.Errorf("error for 0x200000000080, 0x00, 0x3000000000 - got 0x%x, wanted 0x07", b)
	}

	if b := bitselect(0x209000000000000, 0x00); b != uint64(0x30) {
		t.Errorf("error for 0x209000000000000, 0x200000000000 - got 0x%x, wanted 0x30", b)
	}

	if b := bitselectv(0x209000000000000, 0x00, 0x00); b != uint64(0x30) {
		t.Errorf("error for 0x209000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x30", b)
	}

	if b := bitselect(0x4080000, 0x00); b != uint64(0x13) {
		t.Errorf("error for 0x4080000, 0x209000000000000 - got 0x%x, wanted 0x13", b)
	}

	if b := bitselectv(0x4080000, 0x00, 0x00); b != uint64(0x13) {
		t.Errorf("error for 0x4080000, 0x00, 0x3000000000 - got 0x%x, wanted 0x13", b)
	}

	if b := bitselect(0x80040, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x80040, 0x00 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselectv(0x80040, 0x00, 0x00); b != uint64(0x06) {
		t.Errorf("error for 0x80040, 0x00, 0x3000000000 - got 0x%x, wanted 0x06", b)
	}

	if b := bitselect(0x42000000000, 0x00); b != uint64(0x25) {
		t.Errorf("error for 0x42000000000, 0x00 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselectv(0x42000000000, 0x00, 0x00); b != uint64(0x25) {
		t.Errorf("error for 0x42000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x25", b)
	}

	if b := bitselect(0x801000000000000, 0x00); b != uint64(0x30) {
		t.Errorf("error for 0x801000000000000, 0x42000000000 - got 0x%x, wanted 0x30", b)
	}

	if b := bitselectv(0x801000000000000, 0x00, 0x00); b != uint64(0x30) {
		t.Errorf("error for 0x801000000000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x30", b)
	}

	if b := bitselect(0x8001000000, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x8001000000, 0x801000000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselectv(0x8001000000, 0x00, 0x00); b != uint64(0x18) {
		t.Errorf("error for 0x8001000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x18", b)
	}

	if b := bitselect(0x410, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x410, 0x8000000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselectv(0x410, 0x00, 0x00); b != uint64(0x04) {
		t.Errorf("error for 0x410, 0x00, 0x3000000000 - got 0x%x, wanted 0x04", b)
	}

	if b := bitselect(0x400008000000000, 0x00); b != uint64(0x27) {
		t.Errorf("error for 0x400008000000000, 0x00 - got 0x%x, wanted 0x27", b)
	}

	if b := bitselectv(0x400008000000001, 0x01, 0x00); b != uint64(0x27) {
		t.Errorf("error for 0x400008000000001, 0x01, 0x3000000000 - got 0x%x, wanted 0x27", b)
	}

	if b := bitselect(0x4000000010000000, 0x00); b != uint64(0x1c) {
		t.Errorf("error for 0x4000000010000000, 0x400008000000000 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselectv(0x4000000010000000, 0x00, 0x00); b != uint64(0x1c) {
		t.Errorf("error for 0x4000000010000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1c", b)
	}

	if b := bitselect(0x48000002000000, 0x01); b != uint64(0x33) {
		t.Errorf("error for 0x48000002000000, 0x4000000000000001 - got 0x%x, wanted 0x33", b)
	}

	if b := bitselectv(0x48000002000000, 0x00, 0x01); b != uint64(0x33) {
		t.Errorf("error for 0x48000002000000, 0x00, 0x3000000001 - got 0x%x, wanted 0x33", b)
	}

	if b := bitselect(0x10040000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x10040000000, 0x48000000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x10040000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x10040000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x2000000004000000, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x2000000004000000, 0x10000000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselectv(0x2000000004000000, 0x00, 0x00); b != uint64(0x1a) {
		t.Errorf("error for 0x2000000004000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1a", b)
	}

	if b := bitselect(0x280000000, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x280000000, 0x2000000000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselectv(0x280000000, 0x00, 0x00); b != uint64(0x1f) {
		t.Errorf("error for 0x280000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1f", b)
	}

	if b := bitselect(0x1000000008, 0x01); b != uint64(0x24) {
		t.Errorf("error for 0x1000000008, 0x200000001 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselectv(0x1000000008, 0x00, 0x01); b != uint64(0x24) {
		t.Errorf("error for 0x1000000008, 0x00, 0x3000000001 - got 0x%x, wanted 0x24", b)
	}

	if b := bitselect(0x4000040000000, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x4000040000000, 0x1000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselectv(0x4000040000000, 0x00, 0x00); b != uint64(0x1e) {
		t.Errorf("error for 0x4000040000000, 0x00, 0x3000000000 - got 0x%x, wanted 0x1e", b)
	}

	if b := bitselect(0x200020000020000, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x200020000020000, 0x4000000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x200020000020000, 0x00, 0x00); b != uint64(0x11) {
		t.Errorf("error for 0x200020000020000, 0x00, 0x3000000000 - got 0x%x, wanted 0x11", b)
	}

	if b := bitselectv(0x1200000000000800, 0x00, 0x01); b != uint64(0x39) {
		t.Errorf("error for 0x1200000000000800, 0x00, 0x3000000001 - got 0x%x, wanted 0x39", b)
	}

	if b := bitselect(0x84000, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x84000, 0x1200000000000000 - got 0x%x, wanted 0x0e", b)
	}

	if b := bitselectv(0x84000, 0x00, 0x00); b != uint64(0x0e) {
		t.Errorf("error for 0x84000, 0x00, 0x3000000000 - got 0x%x, wanted 0x0e", b)
	}
}
